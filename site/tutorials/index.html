<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://goledger-cc-tools.readthedocs.io/tutorials/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Tutorials - GoLedger CC-Tools</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Tutorials";
        var mkdocs_page_input_path = "tutorials.md";
        var mkdocs_page_url = "/tutorials/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> GoLedger CC-Tools
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Tutorials</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#writing-your-first-application">Writing Your First Application</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#network-details">Network Details</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#chaincode-details">Chaincode Details</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#vendoring">Vendoring</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#building-your-goledger-cc-tools-network">Building your GoLedger CC-Tools network</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#upgrading-your-chaincode">Upgrading your chaincode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#reloading-ccapi">Reloading CCAPI</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#renaming-your-project">Renaming your project</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../assets/">Assets</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../datatypes/">Datatypes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../events/">Events</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../transactions/">Transactions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../external-tools/">External Tools</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../testing/">Testing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">GoLedger CC-Tools</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Tutorials</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tutorials">Tutorials</h1>
<h2 id="writing-your-first-application">Writing Your First Application</h2>
<p>This tutorial will show how to install and use a smart contract (chaincode).</p>
<p>You must already have configured the environment to be able to perform this tutorial. Details on <a href="../getting-started/">Getting Started</a></p>
<p>We'll see how the GoLedger CC-Tools library works, using the artifacts provided by GoLedger</p>
<ul>
<li>CCAPI integration</li>
<li>Hyperledger Fabric Update API</li>
<li>Development web application (cc-web)</li>
</ul>
<p>The <code>cc-tools-demo</code> repository smart contract is ideal for beginners to Hyperledger Fabric technology development. It's a great starting point to understand a Hyperledger Fabric blockchain and ease the journey of application development using this framework.</p>
<p>You'll learn how to write an application and a smart contract (chaincode) to query and update a ledger, and how to connect to the Blockchain through a ready-to-use API.</p>
<hr />
<p><strong><span style="color:blue">NOTE</span></strong></p>
<p>You need to know <em>GoLang</em> programming language in order to complete this tutorial.</p>
<hr />
<h3 id="network-details">Network Details</h3>
<p>The standard network to be created will have the following configuration:</p>
<ul>
<li>1 chaincode (cc-tools-demo)</li>
<li>3 orgs (org1, org2, org3)</li>
<li>3 clients (rest servers for org1, org2 and org3)</li>
</ul>
<p>There is also an option to create a smaller network with fewer entities, with the following configuration:</p>
<ul>
<li>1 chaincode (cc-tools-demo)</li>
<li>1 org (org)</li>
<li>1 client (rest server for org)</li>
</ul>
<h3 id="chaincode-details">Chaincode Details</h3>
<p>The chaincode provided in <code>cc-tools-demo</code> has the following characteristics:</p>
<ul>
<li>3 assets</li>
<li>1 private data</li>
<li>4 transactions</li>
</ul>
<h3 id="vendoring">Vendoring</h3>
<p>Both the <strong>chaincode</strong> and the <strong>CCAPI</strong>, in Golang, need to be vendored (dependency packages download) in order to properly work.</p>
<p>To download chaincode dependencies, run the following script:</p>
<pre><code class="language-sh">cd chaincode &amp;&amp; \
go mod vendor &amp;&amp; \
cd ..
</code></pre>
<p>To download the CCAPI dependencies, run the following script:</p>
<pre><code class="language-sh">cd ccapi &amp;&amp; \
go mod vendor &amp;&amp; \
cd ..
</code></pre>
<h3 id="building-your-goledger-cc-tools-network">Building your GoLedger CC-Tools network</h3>
<p>After installing the environment and vendoring the packages, the network is ready to be instantiated.</p>
<p>This process takes place with the following script</p>
<pre><code class="language-sh">./startDev.sh
</code></pre>
<p>This script will perform the following tasks:</p>
<ul>
<li>Clear unused docker images and volumes</li>
<li>Generate the MSP certificates for each org (visit the <a href="https://hyperledger-fabric.readthedocs.io/">Hyperledger Fabric Docs</a> to learn more).</li>
<li>Create the Blockchain node containers (<strong>Hyperledger Fabric</strong> peers and orderers) for 3 orgs (org1, org2, org3) with the correct cryptographic configuration for each one of them.</li>
<li>Create the ledger for registration and permission - <strong>Hyperledger Fabric Channel</strong></li>
<li>Organizations entries in the channel (Join process in <strong>Hyperledger Fabric</strong>)</li>
<li>Chaincode installation inside endorsing peers</li>
<li>Installation of network management api <strong>Hyperledger Fabric</strong></li>
<li>Chaincode instantiation on the channel</li>
<li>Rest servers containers deployment with the correct cryptographic configuration, representing a <strong>Hyperledger Fabric Client</strong> for each organization.</li>
</ul>
<p>At the end of the process, the following messages should be displayed:</p>
<pre><code class="language-sh">Chaincode definition committed on channel 'mainchannel'

...

Query chaincode definition successful on peer0.org1 on channel 'mainchannel'

...

Query chaincode definition successful on peer0.org2 on channel 'mainchannel'

...

Query chaincode definition successful on peer0.org3 on channel 'mainchannel'
Chaincode initialization is not required
[+] Running 3/3
 ⠿ Container ccapi.org2.example.com  Started                        0.3s
 ⠿ Container ccapi.org1.example.com  Started                        0.5s
 ⠿ Container ccapi.org3.example.com  Started                        0.5s
</code></pre>
<p>The <strong>ccapi</strong> containers represent the rest servers for each organization. They may take a few minutes to come online.</p>
<p>At the end, the following message should appear:</p>
<pre><code class="language-sh">docker logs ccapi.org1.example.com 

2023/07/27 14:00:53 Listening on port 80
2023/07/27 14:00:53 sdk created from './config/configsdk-org1.yaml'
2023/07/27 14:00:53 sdk created from './config/configsdk-org1.yaml'
Listening on port 80
</code></pre>
<p>To instantiate the minimal network using only one organization, use the following command:</p>
<pre><code class="language-sh">./startDev.sh -n 1
</code></pre>
<h3 id="upgrading-your-chaincode">Upgrading your chaincode</h3>
<p>Upgrading a smart contract can be done easily in chaincodes that use the <strong>GoLedger CC-Tools</strong> library.</p>
<p>First, you must check the syntax of the modified code.</p>
<pre><code class="language-sh">cd chaincode \
go vet \
cd ..
</code></pre>
<p>After validation, the chaincode update is done with the <code>upgradeCC.sh</code> script, which takes the chaincode version and sequence as arguments.</p>
<hr />
<p><strong><span style="color:blue">NOTE</span></strong></p>
<p>A chaincode must always be updated with a version different from all previous versions and the sequence should be sequential from the one before.</p>
<hr />
<p>Example:</p>
<pre><code class="language-sh">./upgradeCC.sh 0.2 2
</code></pre>
<p>Or if you are using the minimal network:</p>
<pre><code class="language-sh">./upgradeCC.sh 0.2 2 -n 1
</code></pre>
<h3 id="reloading-ccapi">Reloading CCAPI</h3>
<p>If any changes were made to the CCAPI code you must reload it for the changes to take effect. </p>
<p>First, check the syntax of the modified code.</p>
<pre><code class="language-sh">cd ccapi \
go vet \
cd ..
</code></pre>
<p>After validation, the <code>reloadCCAPI.sh</code> script can be used to reload the rest server.</p>
<pre><code class="language-sh">./reloadCCAPI.sh
</code></pre>
<p>Or if you are using the minimal network:</p>
<pre><code class="language-sh">./reloadCCAPI.sh -n 1
</code></pre>
<h3 id="renaming-your-project">Renaming your project</h3>
<p>After testing cc-tools-demo and instantiating your first fabric network, you are ready to start developing your first chaincode.</p>
<p>To use your own project name, instead of <code>cc-tools-demo</code>, the <code>renameProject.sh</code> script is availiable to rename all mentions to it on the project folder. The script takes the new name as an argument.</p>
<p>Example: </p>
<pre><code class="language-sh">./renameProject.sh my-first-chaincode
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting-started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../assets/" class="btn btn-neutral float-right" title="Assets">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../getting-started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../assets/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
